<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org" lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Trang chủ</title>-->
<!--    <th:block th:insert="layout/layout :: library"/>-->
<!--</head>-->
<!--<body>-->
<!--<a href="/book/add">Thêm sách mới</a>-->
<!--<a href="/book/return">Trả sách</a>-->
<!--<h2 th:text="${mess}"></h2>-->
<!--<div th:each="b:${bookPage.content}">-->
<!--    <div th:text="${b.quantity}"></div>-->
<!--    <div>-->
<!--        Tên sách: <h2 th:text="${b.name}"></h2>-->
<!--    </div>-->
<!--    <div>-->
<!--        Tác giả: <h5 th:text="${b.author}"></h5>-->
<!--    </div>-->
<!--    <div>-->
<!--        <a th:href="@{/book/{id}/borrow(id=${b.id})}">Mượn sách</a>-->
<!--        <form th:action="@{/book/{id}/delete(id=${b.id})}"-->
<!--              onsubmit="return confirm('Bạn có chắc muốn xóa sách này?')"-->
<!--              method="post">-->
<!--            <button>Xóa sách</button>-->
<!--        </form>-->
<!--        <a th:href="@{/book/{id}/detail(id=${b.id})}">Xem thêm</a>-->
<!--    </div>-->
<!--</div>-->
<!--<h1 th:if="${bookPage.isEmpty()}">Chưa có dữ liệu</h1>-->
<!--<a class="btn btn-primary" th:if="${bookPage.hasPrevious()}" th:href="@{/book(page=${bookPage.number -1},searchName=${searchName})}">Trước</a>-->
<!--<span th:text="${bookPage.number +1}"></span>-->
<!--<span th:text="${bookPage.totalPages}"></span>-->
<!--<a class="btn btn-dark" th:if="${bookPage.hasNext()}" th:href="@{/book(page=${bookPage.number +1},searchName=${searchName})}">Sau</a>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Trang chủ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <th:block th:insert="layout/layout :: library"/>
</head>
<body>
<div class="container mt-4">
    <div class="d-flex justify-content-between mb-3">
        <a href="/book/add" class="btn btn-success">Thêm sách mới</a>
        <a href="/book/return" class="btn btn-primary">Trả sách</a>
    </div>

    <div th:text="${mess}" class="alert alert-info" th:if="${mess}"></div>

    <div class="row" th:each="b:${bookPage.content}">
        <div class="col-md-4 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title" th:text="${b.name}">Tên sách</h5>
                    <h6 class="card-subtitle mb-2 text-muted" th:text="${b.author}">Tác giả</h6>
                    <p class="card-text">Số lượng còn lại: <span th:text="${b.quantity}"></span></p>
                    <div class="d-flex flex-column gap-2">
                        <a th:href="@{/book/{id}/borrow(id=${b.id})}" class="btn btn-primary btn-sm">Mượn sách</a>
                        <form th:action="@{/book/{id}/delete(id=${b.id})}" method="post"
                              onsubmit="return confirm('Bạn có chắc muốn xóa sách này?')">
                            <button class="btn btn-danger btn-sm w-100">Xóa sách</button>
                        </form>
                        <a th:href="@{/book/{id}/detail(id=${b.id})}" class="btn btn-secondary btn-sm">Xem thêm</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <h1 th:if="${bookPage.isEmpty()}" class="text-center text-warning">Chưa có dữ liệu</h1>

    <div class="d-flex justify-content-center align-items-center gap-2 mt-3">
        <a class="btn btn-outline-primary" th:if="${bookPage.hasPrevious()}"
           th:href="@{/book(page=${bookPage.number -1},searchName=${searchName})}">Trước</a>
        <span>Trang <span th:text="${bookPage.number +1}"></span> / <span th:text="${bookPage.totalPages}"></span></span>
        <a class="btn btn-outline-primary" th:if="${bookPage.hasNext()}"
           th:href="@{/book(page=${bookPage.number +1},searchName=${searchName})}">Sau</a>
    </div>
</div>
</body>
</html>
